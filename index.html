<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>V√≤ng Quay May M·∫Øn 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      :root {
        --bg-dark: #0f172a;
        --cell-dark: #1e293b;
      }
      body {
        background-color: var(--bg-dark);
        color: white;
        font-family: 'Inter', sans-serif;
        letter-spacing: -0.01em;
      }
      #wheel-container {
        position: relative;
        width: 220px;
        height: 220px;
      }
      #wheel-container canvas {
        transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1);
        border-radius: 50%;
        width: 100%;
        height: 100%;
      }
      #monthlyChart {
        border-radius: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
      #pointer {
        position: absolute;
        top: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 14px;
        height: 20px;
        background: #ef4444;
        clip-path: polygon(50% 100%, 0 0, 100% 0);
        z-index: 30;
      }
      .month-block {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        margin-bottom: 6px;
        transition: all 0.3s ease;
        display: none;
      }
      .month-block.is-visible {
        display: block;
      }
      .month-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 16px;
        cursor: pointer;
      }
      .is-collapsed .month-header {
        opacity: 0.35;
      }
      .month-title {
        font-size: 9px;
        font-weight: 700;
        text-transform: uppercase;
        width: 70px;
        letter-spacing: 0.05em;
      }
      .stat-summary {
        display: flex;
        gap: 12px;
        align-items: center;
        font-size: 9px;
        font-family: monospace;
        color: #64748b;
      }
      .month-active:not(.is-collapsed) {
        border: 1px solid #6366f1 !important;
        transform: scale(1.01);
        z-index: 10;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }
      .month-active:not(.is-collapsed) .month-title {
        color: #4f5968;
      }
      .month-active:not(.is-collapsed) .stat-summary {
        color: #475569;
      }
      .month-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 6px;
        padding: 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
        justify-items: center;
      }
      .day-cell {
        width: 18px;
        height: 18px;
        border-radius: 4px;
        position: relative;
        background-color: var(--cell-dark);
        transition: all 0.2s;
      }
      .empty-cell {
        visibility: hidden !important;
      }
      .cell-today {
        outline: 2px solid #ef4444;
        outline-offset: 2px;
        z-index: 5;
      }
      .shape {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .shape-circle {
        width: 10px;
        height: 10px;
        border-radius: 50%;
      }
      .shape-triangle {
        width: 0;
        height: 0;
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-bottom: 10px solid currentColor;
      }
      .test-controls {
        display: none;
      }
      .test-mode-active .test-controls {
        display: flex;
      }
      .history-item {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        padding: 6px 10px;
        font-size: 9px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        font-family: monospace;
      }
      .history-item b {
        color: #f8fafc;
        text-align: right;
      }
      .collapse-content {
        max-height: 1000px;
        transition: all 0.3s ease;
        overflow: hidden;
      }
      .is-collapsed .collapse-content {
        max-height: 0;
        opacity: 0;
      }
      .editable-name {
        cursor: pointer;
        text-decoration: underline dotted;
        text-underline-offset: 2px;
      }
      .editable-name:hover {
        color: #6366f1;
      }
      .btn-hidden {
        opacity: 0 !important;
        visibility: hidden !important;
        transform: translate(-50%, -50%) scale(0) !important;
      }
      #spinBtn {
        font-size: 8px;
        font-weight: 900;
        display: flex;
        align-items: center;
        justify-content: center;
        text-transform: uppercase;
        letter-spacing: 1px;

        /* M√†u s·∫Øc m√°u chi·∫øn: Gradient ƒê·ªè - Cam r·ª±c ch√°y */
        background: linear-gradient(135deg, #ff4500, #ff0000);
        color: white !important;
        border: 2px solid rgba(255, 255, 255, 0.4);

        /* ƒê·ªï b√≥ng Neon r·ª±c r·ª° */
        box-shadow: 0 0 15px rgba(255, 69, 0, 0.6),
          inset 0 0 5px rgba(255, 255, 255, 0.5);

        transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        z-index: 1;
        opacity: 1;
        visibility: visible;
      }

      #spinBtn:hover {
        transform: translate(-50%, -50%) scale(1.15) rotate(5deg);
        background: linear-gradient(135deg, #ff0000, #ff8c00);
        box-shadow: 0 0 25px rgba(255, 0, 0, 0.9);
        cursor: pointer;
      }

      /* Hi·ªáu ·ª©ng nh·ªãp ƒë·∫≠p khi ch∆∞a quay */
      .btn-pulse {
        animation: pulse-red 1.5s infinite;
      }

      @keyframes pulse-red {
        0% {
          transform: translate(-50%, -50%) scale(1);
          box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
        }
        70% {
          transform: translate(-50%, -50%) scale(1.05);
          box-shadow: 0 0 0 10px rgba(255, 0, 0, 0);
        }
        100% {
          transform: translate(-50%, -50%) scale(1);
          box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
        }
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-4px) rotate(-1deg);
        }
        75% {
          transform: translateX(4px) rotate(1deg);
        }
      }
      .animate-shake {
        animation: shake 0.2s ease-in-out infinite;
      }
      #quote-area {
        font-size: 12px;
        color: rgb(119 178 96);
      }
    </style>
  </head>
  <body class="p-4 lg:p-8">
    <div
      id="loading-overlay"
      class="fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-[100] flex flex-col items-center justify-center transition-opacity duration-300 hidden"
    >
      <div
        class="w-10 h-10 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin mb-4"
      ></div>
      <p
        class="text-[10px] font-black uppercase tracking-[0.3em] text-indigo-400 animate-pulse"
      >
        ƒêang ƒë·ªìng b·ªô d·ªØ li·ªáu...
      </p>
    </div>

    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
      <div class="lg:col-span-4 space-y-4 lg:sticky lg:top-8 h-fit">
        <div
          class="bg-slate-900/80 backdrop-blur-md p-6 rounded-[1.5rem] border border-white/5 shadow-2xl text-center"
        >
          <div id="quote-area" class="mb-4 h-8 italic"></div>
          <div class="flex flex-col items-center gap-6">
            <div id="wheel-container">
              <div id="pointer"></div>
              <canvas id="wheelCanvas" width="300" height="300"></canvas>
              <div
                id="lucky-number-display"
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center justify-center bg-white w-20 h-20 rounded-full shadow-[0_0_30px_rgba(255,255,255,0.5)] z-20 scale-0 transition-transform duration-500"
              >
                <span
                  class="text-[10px] text-slate-400 font-bold uppercase leading-none"
                  >K·∫øt qu·∫£</span
                >
                <span
                  id="result-number"
                  class="text-3xl font-black text-slate-900 leading-none mt-1"
                  >0</span
                >
              </div>
              <button
                id="spinBtn"
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 rounded-full font-black shadow-xl active:scale-95 text-[9px] btn-pulse"
              >
                CHI·∫æN!
              </button>
            </div>
            <div class="w-full space-y-3">
              <button
                onclick="toggleTestControls()"
                class="w-full py-1 text-[7px] font-black tracking-widest text-slate-500 hover:text-indigo-400 transition-colors uppercase"
              >
                [ Ch·∫ø ƒë·ªô Nh√† ph√°t tri·ªÉn ]
              </button>
              <p
                id="turn-display"
                class="font-bold uppercase tracking-tighter text-xl text-indigo-400"
              >
                L∆∞·ª£t: A ‚óè
              </p>
              <button
                onclick="swapTurn()"
                id="swapBtn"
                class="w-full py-2 bg-slate-800 hover:bg-slate-700 text-[9px] font-bold rounded-xl border border-white/5 transition-all uppercase tracking-widest text-slate-400"
              >
                ‚áÑ ƒê·ªïi l∆∞·ª£t cho ƒë·ªëi th·ªß
              </button>
              <div class="flex flex-col gap-2">
                <span
                  id="current-date-ui"
                  class="bg-indigo-500/5 px-4 py-2 rounded-xl font-mono text-indigo-400 flex items-center justify-center text-[10px] border border-indigo-500/10"
                  >01/01/2026</span
                >
                <div
                  id="test-controls-container"
                  class="test-controls flex-col gap-2"
                  style="display: none"
                >
                  <button
                    onclick="nextDay()"
                    class="w-full bg-white/5 hover:bg-white/10 py-2 rounded-xl font-bold uppercase text-[9px] border border-white/5"
                  >
                    Ng√†y k·∫ø ti·∫øp (Test)
                  </button>
                  <button
                    onclick="nextMonthTest()"
                    class="w-full bg-indigo-600/20 hover:bg-indigo-600/40 text-indigo-300 py-2 rounded-xl font-bold uppercase text-[8px]"
                  >
                    ‚ûî Sang th√°ng m·ªõi
                  </button>
                </div>
                <div class="flex flex-col gap-2">
                  <div class="grid grid-cols-2 gap-2">
                    <input
                      type="date"
                      id="backfill-date"
                      min="2026-01-01"
                      max="2026-12-31"
                      class="bg-white/5 text-[9px] px-3 py-2 rounded-xl border border-white/10 text-slate-300"
                      onchange="setRandomQuote()"
                    />
                    <button
                      onclick="spinBackfill()"
                      class="bg-indigo-600/20 hover:bg-indigo-600/40 text-indigo-300 py-2 rounded-xl font-bold uppercase text-[8px] border border-indigo-500/20"
                    >
                      Quay b√π
                    </button>
                  </div>
                  <div
                    id="missed-days"
                    class="text-[8px] text-slate-500 text-center"
                  ></div>
                </div>
              </div>
              <div
                id="swap-msg"
                class="text-[8px] text-center text-indigo-400 uppercase h-2 mt-1 font-bold"
              ></div>
            </div>
          </div>
        </div>

        <div
          class="bg-slate-900/40 p-3 rounded-xl border border-white/5 grid grid-cols-3 gap-2 text-center"
        >
          <div onclick="editPlayerName('p1')" class="cursor-pointer group">
            <p
              id="label-p1"
              class="text-[7px] text-slate-600 font-black uppercase group-hover:text-indigo-400 transition-colors"
            >
              A (S·ª≠a)
            </p>
            <p id="total-year-a" class="text-xs font-bold text-indigo-400">0</p>
          </div>
          <div onclick="editPlayerName('p2')" class="cursor-pointer group">
            <p
              id="label-p2"
              class="text-[7px] text-slate-600 font-black uppercase group-hover:text-emerald-500 transition-colors"
            >
              B
            </p>
            <p id="total-year-b" class="text-xs font-bold text-emerald-500">
              0
            </p>
          </div>
          <div>
            <p class="text-[7px] text-slate-600 font-black uppercase">
              T·ªïng nƒÉm
            </p>
            <p id="total-year-all" class="text-xs font-bold text-slate-300">
              0
            </p>
          </div>
        </div>

        <div
          id="history-section"
          class="bg-slate-900/20 rounded-xl border border-white/5 overflow-hidden"
        >
          <div
            class="p-3 bg-white/5 flex justify-between items-center cursor-pointer"
            onclick="toggleSection('history-section')"
          >
            <span class="font-bold uppercase text-[8px] text-slate-500"
              >L·ªãch s·ª≠ quay</span
            >
            <span class="text-[8px] text-slate-600">‚ñº</span>
          </div>
          <div class="collapse-content">
            <div id="history-list" class="max-h-48 overflow-y-auto"></div>
          </div>
        </div>
      </div>

      <div class="lg:col-span-8">
        <div class="flex justify-between items-center mb-4 px-1">
          <h2
            class="text-[9px] font-black uppercase tracking-[0.2em] text-slate-600"
          >
            B·∫£ng theo d√µi nƒÉm 2026
          </h2>
          <div class="flex gap-4">
            <button
              onclick="applyMassAction('collapse')"
              class="text-[8px] font-bold uppercase text-slate-600 hover:text-slate-400"
            >
              Thu g·ªçn
            </button>
            <button
              onclick="applyMassAction('summary')"
              class="text-[8px] font-bold uppercase text-emerald-500 hover:text-emerald-400"
            >
              T·ªïng quan
            </button>
            <button
              onclick="applyMassAction('expand')"
              class="text-[8px] font-bold uppercase text-indigo-500 hover:text-indigo-400"
            >
              M·ªü r·ªông
            </button>
          </div>
        </div>
        <div id="vertical-graph-container" class="space-y-2"></div>
        <div class="mt-8 bg-slate-900/40 p-6 rounded-2xl border border-white/5">
          <h3
            class="text-[10px] font-black uppercase tracking-widest text-slate-500 mb-4 text-center"
          >
            So s√°nh t√≠ch l≈©y th√°ng
          </h3>
          <div class="h-64"><canvas id="monthlyChart"></canvas></div>
        </div>
      </div>
    </div>

    <script>
      const GOOGLE_SCRIPT_URL =
        'https://script.google.com/macros/s/AKfycby4JDf4ADd6YX3mzIKL0JfiAEqPyR9xdphIf9GgCusqjWEJD0cknzGZSdT29EU6B78DYw/exec';
      const testMode = true;
      let playerNames = { p1: 'Ng∆∞·ªùi ch∆°i A', p2: 'Ng∆∞·ªùi ch∆°i B' };
      let swapStatus = Array.from({ length: 12 }, () => ({
        p1: false,
        p2: false,
      }));

      const UI_TEXTS = {
        turns: [
          'Cu·ªôc ch∆°i c·ªßa',
          'S√¢n kh·∫•u n√†y l√† c·ªßa',
          'ƒêang c·∫ßm l√°i:',
          'Quy·ªÅn sinh s√°t thu·ªôc v·ªÅ',
          'T·ªõi c√¥ng chuy·ªán v·ªõi',
          'Th·ª≠ v·∫≠n may n√†o,',
        ],
        swaps: [
          'ƒë√£ nh∆∞·ªùng s√¢n kh·∫•u cho',
          'c·∫£m th·∫•y kh√¥ng ·ªïn v√† ƒë·ªïi cho',
          'ƒë√£ ƒë·∫©y c√°i kh√≥ cho',
          'quy·∫øt ƒë·ªãnh l√πi b∆∞·ªõc, nh∆∞·ªùng cho',
          'ƒë√£ trao g·ª≠i ni·ªÅm tin v√†o',
          "v·ª´a 'sang tay' l∆∞·ª£t quay cho",
        ],
        spinMessages: {
          v1: [
            // 1-60: Si√™u r·∫ª (Xanh l√° ƒë·∫≠m)
            '‚úÖ QU√Å H·ªúI! {n}k ch·ªâ b·∫±ng ti·ªÅn g·ª≠i xe!',
            'ü§ë B·∫≠c th·∫ßy ti·∫øt ki·ªám l√† ƒë√¢y! {n} ƒëi·ªÉm!',
            'üíé K√®o th∆°m v·ªâa h√®! C√≥ {n}k th√¥i sao?',
            'üåà May m·∫Øn m·ªâm c∆∞·ªùi! V√≠ v·∫´n ƒë·∫ßy nguy√™n!',
            'üê• Nh·∫π t·ª±a l√¥ng h·ªìng, {n}k qu√° t√¨nh c·∫£m!',
            'üí∏ Qu√° r·∫ª! C·ª© quay th·∫ø n√†y c·∫£ ng√†y c≈©ng ƒë∆∞·ª£c!',
            'üöÄ C√∫ quay c·ªßa nƒÉm! Ti·∫øt ki·ªám t·ªëi ƒëa!',
            'üçµ {n}k? Ch·ªâ b·∫±ng ly tr√† ƒë√° th√¥i b·∫°n ∆°i!',
            '‚ú® V·∫≠n may r·ª±c r·ª°, {n} ƒëi·ªÉm qu√° nh·∫π nh√†ng!',
            'üçÄ Th·∫ßn t√†i h·ªô m·ªánh r·ªìi, {n}k qu√° l√† √≠t!',
            'üç¨ C√≥ {n}k √†? Mua ƒë∆∞·ª£c v√†i vi√™n k·∫πo th√¥i!',
            'üéâ ƒÇn m·ª´ng th√¥i! M·∫•t √≠t m√† vui nhi·ªÅu!',
            'üî• ƒê·ªânh c·ªßa ch√≥p! B√†n tay v√†ng h·ªët k√®o r·∫ª!',
            'üåü {n} ƒëi·ªÉm! B·∫°n l√† th·∫ßn ti·∫øt ki·ªám r·ªìi!',
            'üçØ Ng·ªçt ng√†o qu√°! {n}k kh√¥ng b√µ d√≠nh rƒÉng!',
            'üéà Bay b·ªïng t√¢m h·ªìn v√¨ ch·ªâ m·∫•t c√≥ {n}k!',
            'ü•ó ƒÇn u·ªëng x·∫£ l√°ng v√¨ quay c√≥ {n} ƒëi·ªÉm!',
            'ü•á V√¥ ƒë·ªãch r·∫ª! {n}k l√† m·ªôt s·ª± s·ªâ nh·ª•c v·ªõi v√≠ ti·ªÅn!',
            'üßò‚Äç‚ôÇÔ∏è T√¢m t·ªãnh v√¨ v√≠ kh√¥ng ƒëau, {n}k qu√° ·ªïn!',
            'ü•Ç C·∫°n ly! C√∫ quay n√†y x·ª©ng ƒë√°ng 10 ƒëi·ªÉm!',
          ],
          v2: [
            // 61-120: R·∫ª (Xanh chu·ªëi)
            '‚úÖ Kh√° khen! {n}k v·∫´n trong t·∫ßm ki·ªÉm so√°t!',
            'üí∏ R·∫ª ch√°n! {n} ƒëi·ªÉm ch∆∞a b·∫±ng b√°t ph·ªü!',
            'üçÉ Gi√≥ th·ªïi nh·∫π qua v√≠, c√≥ {n}k th√¥i!',
            '‚ö° V·∫´n h·ªùi nh√©! {n} ƒëi·ªÉm l√† qu√° ·ªïn!',
            'üåª T∆∞∆°i kh√¥ng c·∫ßn t∆∞·ªõi, {n}k v·∫´n c√≤n xanh!',
            'ü•£ {n}k? B·ªØa s√°ng nh·∫π nh√†ng kh√¥ng lo nghƒ©!',
            'üç≠ Ng·ªçt l·ªãm! {n} ƒëi·ªÉm n√†y qu√° l√† h·ª£p l√Ω!',
            'üèÑ‚Äç‚ôÇÔ∏è L∆∞·ªõt s√≥ng an to√†n, {n}k ch∆∞a l√†m kh√≥ ƒë∆∞·ª£c b·∫°n!',
            'üß© M·∫£nh gh√©p ho√†n h·∫£o cho t√∫i ti·ªÅn: {n}k!',
            'üîã NƒÉng l∆∞·ª£ng tr√†n tr·ªÅ v√¨ {n} ƒëi·ªÉm v·∫´n r·∫ª!',
            'üéà Nh·∫π nh√†ng nh∆∞ m√¢y, {n}k kh√¥ng ƒë√°ng lo!',
            'üéã Tr√∫c xinh tr√∫c m·ªçc ƒë·∫ßu ƒë√¨nh, {n}k v·∫´n qu√° xinh!',
            'üõµ {n}k? Ch·ªâ l√† m·ªôt b√¨nh xƒÉng th√¥i m√†!',
            'üíé ƒê√° qu√Ω r∆°i v√†o tay, {n} ƒëi·ªÉm qu√° ƒë·∫πp!',
            'üéµ Nh·∫°c l√™n! {n}k quay nh·∫£y m√∫a t∆∞ng b·ª´ng!',
            'ü•• Quay tr√∫ng qu·∫£ d·ª´a, {n}k m√°t r∆∞·ª£i c·∫£ v√≠!',
            'üèπ B·∫Øn tr√∫ng ƒë√≠ch r·∫ª: {n} ƒëi·ªÉm!',
            'üëü Ch·∫°y b·ªô c≈©ng ra {n}k, qu√° l√† b√®o!',
            'üö≤ ƒê·∫°p xe ƒëi ch∆°i th√¥i, {n}k c√≤n d∆∞ ch√°n!',
            'üëí ƒê·ªôi m≈© b·∫£o hi·ªÉm v√†o, {n}k r·∫ª ƒë·∫øn m·ª©c ch√≥ng m·∫∑t!',
          ],
          v3: [
            // 121-180: Trung b√¨nh (V√†ng)
            '‚öñÔ∏è C√¥ng b·∫±ng ch∆∞a? {n}k l√† con s·ªë trung th·ª±c!',
            'üå§Ô∏è Tr·ªùi h·ª≠ng n·∫Øng, {n} ƒëi·ªÉm kh√¥ng cao kh√¥ng th·∫•p!',
            'üçø Xem phim th√¥i, {n}k l√† gi√° v√© h·ª£p l√Ω!',
            'ü•• T·∫ßm trung r·ªìi, {n} ƒëi·ªÉm v·∫´n ch·ªãu ƒë∆∞·ª£c!',
            'üõ∂ Ch√®o l√°i kh√©o l√©o, {n}k l√† m·ª©c trung b√¨nh!',
            'üÜó Ch·∫•p nh·∫≠n ƒë∆∞·ª£c! {n} ƒëi·ªÉm c√¥ng t√¢m!',
            'üçå Chu·ªëi ng·ªçt cu·ªëi m√πa, {n}k ·ªïn √°p!',
            'üß± N·ªÅn t·∫£ng v·ªØng ch·∫Øc, {n} ƒëi·ªÉm t√≠ch l≈©y d·∫ßn!',
            'üõµ Th√™m ch√∫t xƒÉng, {n}k l∆∞·ªõt ph·ªë!',
            'üßò ThƒÉng b·∫±ng t·ªët! {n} ƒëi·ªÉm kh√¥ng g√¢y s·ªëc!',
            '‚òï Ly c√† ph√™ s·ªØa {n}k, ng·ªìi nh√¢m nhi th√¥i!',
            'üìâ ƒê·ªì th·ªã ƒëi ngang, {n} ƒëi·ªÉm b√¨nh ·ªïn!',
            '‚õÖ M√¢y m·ªù m·ªù, {n}k kh√¥ng g√¢y b√£o v√≠!',
            'üõ§Ô∏è ƒê∆∞·ªùng d√†i m·ªõi bi·∫øt ng·ª±a hay, {n} ƒëi·ªÉm!',
            'üîî Chu√¥ng reo l√† b·∫Øn, {n}k v·ª´a v·∫∑n!',
            'üì¶ ƒê√≥ng g√≥i v·∫≠n may, {n} ƒëi·ªÉm mang v·ªÅ!',
            'üçé Qu·∫£ t√°o nh·ªè {n}k, c·∫Øn m·ªôt mi·∫øng th√¥i!',
            'üé∫ Th·ªïi k√®n ƒÉn m·ª´ng nh·∫π, {n} ƒëi·ªÉm!',
            'ü™Å Di·ªÅu bay v·ª´a t·∫ßm, {n}k kh√¥ng s·ª£ ƒë·ª©t d√¢y!',
            'üß§ ·∫§m √°p v·ª´a ƒë·ªß v·ªõi {n} ƒëi·ªÉm t√≠ch l≈©y!',
          ],
          v4: [
            // 181-240: H∆°i ƒë·∫Øt (Cam)
            '‚ö†Ô∏è C·∫©n th·∫≠n nh√©! {n}k l√† b·∫Øt ƒë·∫ßu x√≥t r·ªìi ƒë·∫•y!',
            "üü† M√†u cam c·∫£nh b√°o, {n} ƒëi·ªÉm h∆°i b·ªã 'ch√°t'!",
            'üî• H∆°i n√≥ng r·ªìi nha! {n}k c≈©ng ra g√¨ ƒë·∫•y!',
            'üìâ V√≠ ti·ªÅn b·∫Øt ƒë·∫ßu run, {n} ƒëi·ªÉm r·ªìi!',
            'üçú B·ªØa t·ªëi th·ªãnh so·∫°n bay m√†u v√¨ {n}k!',
            'üß± H∆°i n·∫∑ng ƒë√¥ r·ªìi! {n} ƒëi·ªÉm ch·ª© ƒë√πa √†!',
            'üõí ƒêi si√™u th·ªã l√† h·∫øt s·∫°ch {n}k n√†y!',
            'üïØÔ∏è Th·∫Øp n·∫øn c·∫ßu nguy·ªán, {n} ƒëi·ªÉm h∆°i cao!',
            'ü™Å D√¢y di·ªÅu h∆°i cƒÉng, {n}k r·ªìi b·∫°n ∆°i!',
            'ü•ä M·ªôt c√∫ ƒë·∫•m v√†o v√≠: {n} ƒëi·ªÉm!',
            'üß• S·∫Øm √°o m·ªõi l√† m·∫•t {n}k, ti·∫øc qu√°!',
            'üå∂Ô∏è Cay n·ªìng! {n} ƒëi·ªÉm l√†m m·∫∑t ƒë·ªè b·ª´ng!',
            '‚õΩ XƒÉng tƒÉng gi√° hay sao m√† ra {n}k th·∫ø n√†y!',
            'üõ†Ô∏è C·∫ßn s·ª≠a l·∫°i tay quay, {n} ƒëi·ªÉm h∆°i qu√°!',
            'üöø D·ªôi g√°o n∆∞·ªõc l·∫°nh v√†o v√≠: {n}k!',
            'üìª Nghe ƒë√†i b√°o b√£o: {n} ƒëi·ªÉm s·∫Øp t·ªõi!',
            'üõπ Tr∆∞·ª£t ch√¢n m·ªôt c√°i l√† ƒëi tong {n}k!',
            'ü•Ø B√°nh m√¨ k·∫πp th·ªãt x·ªãn c≈©ng ch·ªâ {n}k th√¥i!',
            'üß∫ Gom c·ªßi ƒë·ªët ti·ªÅn: {n} ƒëi·ªÉm!',
            'üì¢ Th√¥ng b√°o: V√≠ b·∫°n v·ª´a v∆°i ƒëi {n}k!',
          ],
          v5: [
            // 241-300: ƒê·∫Øt (ƒê·ªè)
            'üõë D·ª™NG L·∫†I! {n}k l√† ƒëau ƒë·ªõn l·∫Øm r·ªìi!',
            'üî¥ B√°o ƒë·ªông ƒë·ªè! {n} ƒëi·ªÉm ch√°y t√∫i nh∆∞ ch∆°i!',
            'üí∏ Ti·ªÅn r∆°i kh√¥ng phanh! {n}k l·∫≠n ƒë√≥!',
            'üò≠ Kh√≥c m·ªôt d√≤ng s√¥ng... {n} ƒëi·ªÉm ch√°t qu√°!',
            'üåã N√∫i l·ª≠a phun tr√†o ti·ªÅn b·∫°c! {n}k!',
            'üíî Tan v·ª° con tim v√¨ con s·ªë {n}!',
            'üèß M√°y r√∫t ti·ªÅn g·ªçi t√™n b·∫°n: {n} ƒëi·ªÉm!',
            'üöë C·∫•p c·ª©u v√≠ ti·ªÅn g·∫•p! {n}k r·ªìi!',
            '‚õàÔ∏è B√£o t√°p m∆∞a sa ƒë·ªï xu·ªëng t√∫i: {n}k!',
            'üìâ M·ªôt pha x·ª≠ l√Ω ƒëi v√†o l√≤ng ƒë·∫•t: {n} ƒëi·ªÉm!',
            'üß® N·ªï tung v√≠ ti·ªÅn v·ªõi {n}k!',
            'üï≥Ô∏è H·ªë ƒëen v≈© tr·ª• h√∫t s·∫°ch {n} ƒëi·ªÉm!',
            'ü•Ä Hoa r∆°i c·ª≠a ph·∫≠t, v√≠ r∆°i {n}k!',
            'ü•∫ Nh√¨n v√≠ m√† th∆∞∆°ng, {n} ƒëi·ªÉm qu√° ph≈©!',
            'ü•ä ƒêo v√°n t√∫i ti·ªÅn b·∫±ng {n}k!',
            'ü•µ M·ªì h√¥i h·ªôt ch·∫£y ra v√¨ {n} ƒëi·ªÉm!',
            'ü•¢ Nh·ªãn ƒÉn s√°ng th√¥i, {n}k l√† nhi·ªÅu l·∫Øm!',
            'üï∏Ô∏è V√≠ ƒë√≥ng m·∫°ng nh·ªán v√¨ {n} ƒëi·ªÉm v·ª´a ƒëi!',
            'üö´ C·∫•m quay b·ª´a b√£i! {n}k ch·ª© √≠t g√¨!',
            'üíÄ ƒêi·ªÅm b√°o ch√°y t√∫i: {n} ƒëi·ªÉm!',
          ],
          v6: [
            // 301-365: Ch√°y t√∫i (ƒê·ªè ƒë√¥)
            "üò± T·∫¨N TH·∫æ! {n}k? C√∫ n√†y 'bay m√†u' th·∫≠t r·ªìi!",
            'üí∏ Kh√≥c c·∫°n n∆∞·ªõc m·∫Øt... {n} ƒëi·ªÉm l√† c·∫£ gia t√†i!',
            'üìâ Toang th·∫≠t s·ª±! Nh·ªãn ƒÉn c·∫£ tu·∫ßn th√¥i!',
            'üåã Ch√°y t√∫i c·∫•p ƒë·ªô c·ª±c ƒë·∫°i: {n} ƒëi·ªÉm!',
            'üöë V√≠ ti·ªÅn ƒë√£ l√¢m chung sau c√∫ quay {n}k!',
            'üèß ATM th√¥ng b√°o s·ªë d∆∞ kh√¥ng ƒë·ªß v√¨ {n}k!',
            'üíÄ Vƒ©nh bi·ªát t√∫i ti·ªÅn, {n} ƒëi·ªÉm qu√° t√†n nh·∫´n!',
            'üõë Ch√°y nh√† r·ªìi! {n}k bay theo m√¢y kh√≥i!',
            'ü•Ä ƒêau ƒë·ªõn l√≤ng! {n} ƒëi·ªÉm n√†y ai ch·ªãu n·ªïi?',
            'üíî Con tim r·ªâ m√°u v√¨ con s·ªë {n}k!',
            'üò≠ Chia bu·ªìn s√¢u s·∫Øc v·ªõi v√≠ c·ªßa b·∫°n! {n} ƒëi·ªÉm!',
            'üÜò Gi·∫£i c·ª©u con tin (c√°i v√≠) ngay! {n}k!',
            'üõ∏ Ng∆∞·ªùi ngo√†i h√†nh tinh l·∫•y m·∫•t {n}k r·ªìi!',
            'üåë Nh·∫≠t th·ª±c to√†n ph·∫ßn trong v√≠: {n} ƒëi·ªÉm!',
            'üåã C∆°n th·ªãnh n·ªô c·ªßa v√≤ng quay: {n}k!',
            'üåßÔ∏è M∆∞a axit ƒë·ªï v√†o t√∫i ti·ªÅn: {n} ƒëi·ªÉm!',
            'üßó‚Äç‚ôÇÔ∏è R∆°i xu·ªëng v·ª±c th·∫≥m t√†i ch√≠nh v·ªõi {n}k!',
            'ü¶¥ G·∫∑m b√°nh m√¨ tr·ª´ c∆°m th√¥i, {n} ƒëi·ªÉm r·ªìi!',
            'üñ§ M·ªôt m√†u ƒëen u t·ªëi bao tr√πm t√∫i ti·ªÅn: {n}k!',
            'üß® B√πm! T√∫i ti·ªÅn n·ªï tung ·ªü m·ªëc {n} ƒëi·ªÉm!',
          ],
        },
        spinButtons: [
          'X√öC!!!',
          'CHI·∫æN!',
          'V·∫¢ N√ì!',
          'T·ªöI LU√îN',
          'L√äN NH·∫†C',
          'KH√î M√ÅU',
          'QU·∫§T',
          'BEM!',
          'N·ªî H≈®',
          'CH∆†I T·ªöI B·∫æN',
          'H·ªêT K√àO',
          'X·∫¢ L√ÅNG',
          'BOOM!',
          'V√ÄO VI·ªÜC',
          'L√ÄM T√ç',
        ],
        quotes: [
          'M·ªôt xu ti·∫øt ki·ªám l√† m·ªôt xu ki·∫øm ƒë∆∞·ª£c. - Benjamin Franklin',
          'ƒê·ª´ng ti·∫øt ki·ªám nh·ªØng g√¨ c√≤n l·∫°i sau khi chi ti√™u. - Warren Buffett',
          'Ti·ªÅn b·∫°c l√† m·ªôt ng∆∞·ªùi ƒë·∫ßy t·ªõ t·ªët, nh∆∞ng l√† ch·ªß t·ªìi. - Francis Bacon',
          'K·∫ª kh√¥n ngoan gi·ªØ ti·ªÅn trong ƒë·∫ßu, kh√¥ng ph·∫£i trong tim. - Jonathan Swift',
          'Mua th·ª© b·∫°n kh√¥ng c·∫ßn, s·ªõm mu·ªôn s·∫Ω b√°n th·ª© b·∫°n c·∫ßn. - Warren Buffett',
          'Qu·∫£n l√Ω ti·ªÅn l√† 20% ki·∫øn th·ª©c v√† 80% l√† h√†nh vi. - Dave Ramsey',
          'Bi·∫øt ƒë·ªß l√† s·ª± gi√†u c√≥ t·ªëi th∆∞·ª£ng. - L√£o T·ª≠',
          'Th·ªùi gian l√† ti·ªÅn b·∫°c. - Benjamin Franklin',
          'C√†ng √≠t ham mu·ªën, b·∫°n c√†ng gi√†u c√≥.',
          'Ti·ªÅn kh√¥ng t·ª± m·ªçc tr√™n c√¢y, n√≥ m·ªçc t·ª´ n·ªó l·ª±c.',
          'ƒê·ª´ng ti√™u ti·ªÅn tr∆∞·ªõc khi b·∫°n c√≥ n√≥. - Thomas Jefferson',
          'H√£y c·∫©n th·∫≠n kho·∫£n chi nh·ªè; m·ªôt l·ªó r√≤ b√© l√†m ƒë·∫Øm t√†u l·ªõn.',
          'Ti·ªÅn b·∫°c gi·ªëng nh∆∞ ph√¢n b√≥n, kh√¥ng r·∫£i ra s·∫Ω b·ªëc m√πi.',
          'ƒê·∫ßu t∆∞ v√†o b·∫£n th√¢n l√† kho·∫£n ƒë·∫ßu t∆∞ l√£i nh·∫•t. - Benjamin Franklin',
          'Ng∆∞·ªùi gi√†u ƒë·∫ßu t∆∞ th·ªùi gian, ng∆∞·ªùi ngh√®o ƒë·∫ßu t∆∞ ti·ªÅn b·∫°c.',
          'N·ª£ n·∫ßn l√† v·ª±c th·∫≥m kh√¥ng ƒë√°y.',
          'K·∫ª coi ti·ªÅn l√† t·∫•t c·∫£ s·∫Ω l√†m t·∫•t c·∫£ v√¨ ti·ªÅn.',
          'C√°i g√¨ mua ƒë∆∞·ª£c b·∫±ng ti·ªÅn, c√°i ƒë√≥ r·∫ª. - Erich Maria Remarque',
          'Ng∆∞·ªùi ƒëi vay l√† n√¥ l·ªá c·ªßa ch·ªß n·ª£. - Kinh Th√°nh',
          'Chi ph√≠ l√† l∆∞·ª£ng th·ªùi gian b·∫°n ƒë·ªïi l·∫•y n√≥. - Henry Thoreau',
          'ƒê·ª´ng ƒë·∫∑t ni·ªÅm tin v√†o ti·ªÅn, h√£y ƒë·∫∑t ti·ªÅn n∆°i b·∫°n tin.',
          'ƒê·ª´ng ƒë·ªÉ c√°i v√≠ ƒë·∫ßy l√†m c√°i ƒë·∫ßu tr·ªëng r·ªóng.',
          'S·ª± gi√†u c√≥ th·ª±c s·ª± l√† m·ªôt t√¢m h·ªìn b√¨nh an.',
          'Ti·ªÅn b·∫°c kh√¥ng t·∫°o ra √Ω t∆∞·ªüng, √Ω t∆∞·ªüng t·∫°o ra ti·ªÅn.',
          'Th·∫ø gi·ªõi ƒë·ªß cho nhu c·∫ßu, nh∆∞ng kh√¥ng ƒë·ªß cho l√≤ng tham.',
          'Ti·∫øt ki·ªám h√¥m nay, an nh√†n ng√†y mai.',
          'ƒê·ª´ng ƒëu·ªïi theo ti·ªÅn, h√£y ƒëu·ªïi theo gi√° tr·ªã.',
          'H·∫°nh ph√∫c kh√¥ng n·∫±m ·ªü v√≠ ti·ªÅn, m√† ·ªü s·ª± t·ª± do.',
          'ƒê·ªìng ti·ªÅn ƒëi tr∆∞·ªõc l√† ƒë·ªìng ti·ªÅn kh√¥n.',
          'S·ªëng theo nhu c·∫ßu, ƒë·ª´ng s·ªëng theo mong mu·ªën.',
          'Ti·ªÅn mua ƒë∆∞·ª£c thu·ªëc nh∆∞ng kh√¥ng mua ƒë∆∞·ª£c s·ª©c kh·ªèe.',
          'M·∫•t ti·ªÅn l√† m·∫•t √≠t, m·∫•t l√≤ng tin l√† m·∫•t t·∫•t c·∫£.',
          'ƒê·ª´ng ch·∫øt tr√™n ƒë·ªëng v√†ng m√† t√¢m h·ªìn ngh√®o n√†n.',
          'Ngh√®o kh√¥ng x·∫•u h·ªï, s·ª£ ngh√®o m·ªõi x·∫•u h·ªï.',
          'S·ª± gi√†u c√≥ l√† kh·∫£ nƒÉng tr·∫£i nghi·ªám cu·ªôc s·ªëng tr·ªçn v·∫πn.',
          'Ti·ªÅn b·∫°c mua ƒë∆∞·ª£c ng√¥i nh√† nh∆∞ng kh√¥ng mua ƒë∆∞·ª£c t·ªï ·∫•m.',
          'H√£y l√†m ch·ªß ƒë·ªìng ti·ªÅn, ƒë·ª´ng l√†m n√¥ l·ªá.',
          'Gi√° tr·ªã c·ªßa m·ªôt ng∆∞·ªùi kh√¥ng n·∫±m ·ªü t√†i kho·∫£n ng√¢n h√†ng.',
          'ƒê·ª´ng mua th·ª© ƒë·ªÉ l√†m h√†i l√≤ng ng∆∞·ªùi b·∫°n kh√¥ng th√≠ch.',
          'V√≠ ti·ªÅn ƒëang kh√≥c hay ƒëang c∆∞·ªùi l√† do b·∫°n.',
          'M·ªói ƒë·ªìng ti·ªÅn ti·∫øt ki·ªám l√† m·ªôt l√° phi·∫øu cho t∆∞∆°ng lai.',
          'Ti·∫øt ki·ªám l√† m·ªôt ƒë·ª©c t√≠nh, chi ti√™u l√† m·ªôt th√≥i quen.',
          'ƒê·ª´ng ƒë·ªët ƒëu·ªëc t√¨m ti·ªÅn khi tr√°i tim ƒëang m·ª•c n√°t.',
          'Ti·ªÅn kh√¥ng l√†m thay ƒë·ªïi b·∫£n ch·∫•t, n√≥ ch·ªâ b·ªôc l·ªô b·∫£n ch·∫•t.',
          'T√†i s·∫£n l·ªõn nh·∫•t l√† s·ª©c kh·ªèe.',
          'H·ªçc c√°ch qu·∫£n l√Ω ti·ªÅn tr∆∞·ªõc khi n√≥ qu·∫£n l√Ω b·∫°n.',
          'Ng∆∞·ªùi gi√†u nh·∫•t l√† ng∆∞·ªùi c√≥ ni·ªÅm vui √≠t t·ªën k√©m nh·∫•t.',
          'ƒê·ª´ng s·ªëng ƒë·ªÉ ki·∫øm ti·ªÅn, h√£y ki·∫øm ti·ªÅn ƒë·ªÉ s·ªëng.',
          'Ti·ªÅn ch·ªâ l√† c√¥ng c·ª•. N√≥ s·∫Ω ƒë∆∞a b·∫°n ƒë·∫øn n∆°i b·∫°n mu·ªën.',
          'K·∫ª ngh√®o nh·∫•t l√† k·∫ª kh√¥ng c√≥ g√¨ ngo√†i ti·ªÅn.',
          'ƒê·ª´ng bao gi·ªù ti√™u ti·ªÅn tr∆∞·ªõc khi ki·∫øm ƒë∆∞·ª£c n√≥.',
          'B·∫£n ch·∫•t c·ªßa ti·ªÅn l√† s·ª± l∆∞u th√¥ng.',
          'S·ª± gi√†u c√≥ th·ª±c s·ª± n·∫±m ·ªü ƒë√¥i tay cho ƒëi.',
          'H√£y ti√™u ti·ªÅn v√†o k·ª∑ ni·ªám, ƒë·ª´ng ti√™u v√†o v·∫≠t ch·∫•t.',
          'M·ªôt t√∫i r·ªóng kh√¥ng ngƒÉn ƒë∆∞·ª£c b·∫°n, ch·ªâ ƒë·∫ßu r·ªóng m·ªõi l√†m th·∫ø.',
          'T√∫i ti·ªÅn c√†ng n·∫∑ng, tr√°i tim c√†ng ph·∫£i nh·∫π nh√†ng.',
          'Khi t√∫i r·ªóng, b·∫°n s·∫Ω bi·∫øt ai l√† b·∫°n th·∫≠t s·ª±.',
          'Ti·ªÅn b·∫°c c√≥ c√°nh, h√£y d·∫°y n√≥ bay v·ªÅ ph√≠a b·∫°n.',
          'H√£y l√† ki·∫øn tha l√¢u c≈©ng ƒë·∫ßy t·ªï.',
          'ƒê·ª´ng ƒë·ªÉ s·ª± xa hoa che m·ªù ƒëi m·ª•c ƒë√≠ch s·ªëng.',
          'T√†i ch√≠nh l√†nh m·∫°nh b·∫Øt ƒë·∫ßu t·ª´ t√¢m tr√≠ l√†nh m·∫°nh.',
          'ƒê·ªìng ti·ªÅn ch√¢n ch√≠nh l√† m·ªì h√¥i v√† n∆∞·ªõc m·∫Øt.',
          'ƒê·ª´ng nh√¨n v√†o gi√° c·∫£, h√£y nh√¨n v√†o gi√° tr·ªã l√¢u d√†i.',
          'M·ªôt ng√†y kh√¥ng ti·∫øt ki·ªám l√† m·ªôt ng√†y l√£ng ph√≠.',
          'ƒê·ª´ng so s√°nh v√≠ ti·ªÅn c·ªßa m√¨nh v·ªõi ng∆∞·ªùi kh√°c.',
          'H·∫°nh ph√∫c l√† bi·∫øt m√¨nh c√≥ ƒë·ªß.',
          'Ti·∫øt ki·ªám l√† b√≠ m·∫≠t c·ªßa s·ª± ƒë·ªôc l·∫≠p t√†i ch√≠nh.',
          'ƒê·ª´ng ƒë·ªÉ ti·ªÅn b·∫°c l√† r√†o c·∫£n gi·ªØa b·∫°n v√† nh·ªØng ng∆∞·ªùi th√¢n y√™u.',
          'S·ª± gi√†u c√≥ ƒë√≠ch th·ª±c kh√¥ng th·ªÉ ƒëong ƒë·∫øm b·∫±ng con s·ªë.',
          'H√£y tr√¢n tr·ªçng t·ª´ng ƒë·ªìng l·∫ª b·∫°n c√≥.',
          'ƒê·ªìng ti·ªÅn l√† m·ªôt c√¥ng c·ª•, kh√¥ng ph·∫£i l√† √¥ng ch·ªß.',
          'Qu·∫£n l√Ω ti·ªÅn l√† qu·∫£n l√Ω cu·ªôc ƒë·ªùi.',
          'ƒê·ª´ng d√πng s·ª©c kh·ªèe ƒë·ªÉ ƒë·ªïi l·∫•y ti·ªÅn, r·ªìi l·∫°i d√πng ti·ªÅn mua l·∫°i s·ª©c kh·ªèe.',
          'Th√†nh c√¥ng kh√¥ng ph·∫£i l√† c√≥ bao nhi√™u ti·ªÅn.',
          'H√£y h√†o ph√≥ng v·ªõi n·ª• c∆∞·ªùi, nh∆∞ng ch·∫∑t ch·∫Ω v·ªõi chi ti√™u.',
          'S·ª± gi√†u c√≥ th·ª±c s·ª± l√† nh·ªØng g√¨ c√≤n l·∫°i khi m·∫•t h·∫øt ti·ªÅn.',
          'Ti·ªÅn b·∫°c l√† ph∆∞∆°ng ti·ªán, kh√¥ng ph·∫£i l√† c·ª©u c√°nh.',
          'ƒê·ª´ng l√£ng ph√≠ th·ªùi gian v√†o vi·ªác ch·ªâ ƒë·ªÉ ki·∫øm ti·ªÅn.',
          'H·ªçc c√°ch t·ª´ ch·ªëi nh·ªØng ham mu·ªën nh·∫•t th·ªùi.',
          'Ti·ªÅn b·∫°c l√† nƒÉng l∆∞·ª£ng, h√£y s·ª≠ d·ª•ng n√≥ ƒë√∫ng c√°ch.',
          'ƒê·ª´ng ƒë·∫∑t t·∫•t c·∫£ tr·ª©ng v√†o m·ªôt gi·ªè. - Andrew Carnegie',
          'Ng∆∞·ªùi bi·∫øt qu·∫£n l√Ω ti·ªÅn l·∫ª s·∫Ω qu·∫£n l√Ω ƒë∆∞·ª£c ti·ªÅn l·ªõn.',
          'S·ªëng gi·∫£n d·ªã ƒë·ªÉ ng∆∞·ªùi kh√°c c√≥ th·ªÉ gi·∫£n d·ªã s·ªëng.',
          'S·ª± gi√†u c√≥ nh·∫•t l√† s·ª± t·ª± do kh·ªèi l√≤ng tham.',
          'ƒê·ª´ng ƒë·ªÉ n·ª£ n·∫ßn ƒë√® n·∫∑ng ƒë√¥i vai b·∫°n.',
          'H√£y mua nh·ªØng th·ª© gi√∫p b·∫°n ki·∫øm th√™m ti·ªÅn.',
          'Ti·ªÅn kh√¥ng quan tr·ªçng, nh∆∞ng n√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn m·ªçi th·ª© quan tr·ªçng.',
          'L√≤ng tham l√† c√°i t√∫i kh√¥ng ƒë√°y.',
          'Ti·∫øt ki·ªám l√† con ƒë∆∞·ªùng ng·∫Øn nh·∫•t ƒë·∫øn s·ª± t·ª± do.',
          'H√£y nghƒ© v·ªÅ ti·ªÅn nh∆∞ m·ªôt h·∫°t gi·ªëng.',
          'S·ª± gi√†u c√≥ th·ª±c s·ª± b·∫Øt ƒë·∫ßu t·ª´ b√™n trong.',
          'H√£y bi·∫øt ∆°n nh·ªØng g√¨ b·∫°n ƒëang c√≥.',
          'Ti·ªÅn b·∫°c l√† m·ªôt ph·∫ßn c·ªßa cu·ªôc ch∆°i, ƒë·ª´ng qu√° nghi√™m tr·ªçng.',
          'ƒê·ª´ng ƒë·ªÉ ti·ªÅn l√†m m·ªù m·∫Øt, h√£y ƒë·ªÉ n√≥ soi s√°ng t∆∞∆°ng lai.',
          'Quay tr√∫ng s·ªë nh·ªè l√† th·∫Øng, quay tr√∫ng s·ªë l·ªõn l√† b√†i h·ªçc.',
          'Ti·∫øt ki·ªám h√¥m nay l√† m√≥n qu√† cho ch√≠nh b·∫°n ng√†y mai.',
          'ƒê·ª´ng bao gi·ªù n·∫£n l√≤ng n·∫øu v√≠ ti·ªÅn c√≤n m·ªèng.',
          'H√£y t·∫≠p trung v√†o vi·ªác t·∫°o ra gi√° tr·ªã.',
          'S·ªëng x·ª©ng ƒë√°ng v·ªõi m·ªói ƒë·ªìng ti·ªÅn b·∫°n ti√™u.',
          'Cu·ªëi c√πng, ch√∫ng ta ch·ªâ s·ªü h·ªØu nh·ªØng g√¨ ƒë√£ cho ƒëi.',
        ],
      };

      let simDate = new Date(2026, 0, 1);
      let currentPlayer = 'p1';
      let currentRotation = 0;
      let isSpinning = false;
      let yearlyStats = { p1: 0, p2: 0, total: 0 };
      let historyData = Array.from({ length: 12 }, () => ({
        total: 0,
        p1: 0,
        p2: 0,
      }));
      let fullSpinLog = [];
      let usedNumbers = new Set();
      let spunDays = new Set();
      const spinBtn = document.getElementById('spinBtn');
      function dayIdxFromDateStr(str) {
        const d = new Date(str);
        const base = new Date(2026, 0, 1);
        return Math.floor((d - base) / 86400000) + 1;
      }
      function monthFromDayIdx(idx) {
        const base = new Date(2026, 0, 1);
        const d = new Date(base.getTime() + (idx - 1) * 86400000);
        return d.getMonth();
      }
      function updateMissedDays() {
        const el = document.getElementById('missed-days');
        if (!el) return;
        el.innerText = `Ng√†y ch∆∞a quay: ${365 - spunDays.size}`;
      }
      const QUOTES = [
        'M·ªôt xu ti·∫øt ki·ªám l√† m·ªôt xu ki·∫øm ƒë∆∞·ª£c. - Benjamin Franklin',
        'ƒê·ª´ng ti·∫øt ki·ªám nh·ªØng g√¨ c√≤n l·∫°i sau khi chi ti√™u. - Warren Buffett',
        'Ti·ªÅn b·∫°c l√† m·ªôt ng∆∞·ªùi ƒë·∫ßy t·ªõ t·ªët, nh∆∞ng l√† ch·ªß t·ªìi. - Francis Bacon',
        'K·∫ª kh√¥n ngoan gi·ªØ ti·ªÅn trong ƒë·∫ßu, kh√¥ng ph·∫£i trong tim. - Jonathan Swift',
        'Mua th·ª© b·∫°n kh√¥ng c·∫ßn, s·ªõm mu·ªôn s·∫Ω b√°n th·ª© b·∫°n c·∫ßn. - Warren Buffett',
        'Qu·∫£n l√Ω ti·ªÅn l√† 20% ki·∫øn th·ª©c v√† 80% l√† h√†nh vi. - Dave Ramsey',
        'Bi·∫øt ƒë·ªß l√† s·ª± gi√†u c√≥ t·ªëi th∆∞·ª£ng. - L√£o T·ª≠',
        'Th·ªùi gian l√† ti·ªÅn b·∫°c. - Benjamin Franklin',
        'C√†ng √≠t ham mu·ªën, b·∫°n c√†ng gi√†u c√≥.',
        'Ti·ªÅn kh√¥ng t·ª± m·ªçc tr√™n c√¢y, n√≥ m·ªçc t·ª´ n·ªó l·ª±c.',
        'ƒê·ª´ng ti√™u ti·ªÅn tr∆∞·ªõc khi b·∫°n c√≥ n√≥. - Thomas Jefferson',
        'H√£y c·∫©n th·∫≠n kho·∫£n chi nh·ªè; m·ªôt l·ªó r√≤ b√© l√†m ƒë·∫Øm t√†u l·ªõn.',
        'Ti·ªÅn b·∫°c gi·ªëng nh∆∞ ph√¢n b√≥n, kh√¥ng r·∫£i ra s·∫Ω b·ªëc m√πi.',
        'ƒê·∫ßu t∆∞ v√†o b·∫£n th√¢n l√† kho·∫£n ƒë·∫ßu t∆∞ l√£i nh·∫•t. - Benjamin Franklin',
        'Ng∆∞·ªùi gi√†u ƒë·∫ßu t∆∞ th·ªùi gian, ng∆∞·ªùi ngh√®o ƒë·∫ßu t∆∞ ti·ªÅn b·∫°c.',
        'N·ª£ n·∫ßn l√† v·ª±c th·∫≥m kh√¥ng ƒë√°y.',
        'K·∫ª coi ti·ªÅn l√† t·∫•t c·∫£ s·∫Ω l√†m t·∫•t c·∫£ v√¨ ti·ªÅn.',
        'C√°i g√¨ mua ƒë∆∞·ª£c b·∫±ng ti·ªÅn, c√°i ƒë√≥ r·∫ª. - Erich Maria Remarque',
        'Ng∆∞·ªùi ƒëi vay l√† n√¥ l·ªá c·ªßa ch·ªß n·ª£. - Kinh Th√°nh',
        'Chi ph√≠ l√† l∆∞·ª£ng th·ªùi gian b·∫°n ƒë·ªïi l·∫•y n√≥. - Henry Thoreau',
        'ƒê·ª´ng ƒë·∫∑t ni·ªÅm tin v√†o ti·ªÅn, h√£y ƒë·∫∑t ti·ªÅn n∆°i b·∫°n tin.',
        'ƒê·ª´ng ƒë·ªÉ c√°i v√≠ ƒë·∫ßy l√†m c√°i ƒë·∫ßu tr·ªëng r·ªóng.',
        'S·ª± gi√†u c√≥ th·ª±c s·ª± l√† m·ªôt t√¢m h·ªìn b√¨nh an.',
        'Ti·ªÅn b·∫°c kh√¥ng t·∫°o ra √Ω t∆∞·ªüng, √Ω t∆∞·ªüng t·∫°o ra ti·ªÅn.',
        'Th·∫ø gi·ªõi ƒë·ªß cho nhu c·∫ßu, nh∆∞ng kh√¥ng ƒë·ªß cho l√≤ng tham.',
        'Ti·∫øt ki·ªám h√¥m nay, an nh√†n ng√†y mai.',
        'ƒê·ª´ng ƒëu·ªïi theo ti·ªÅn, h√£y ƒëu·ªïi theo gi√° tr·ªã.',
        'H·∫°nh ph√∫c kh√¥ng n·∫±m ·ªü v√≠ ti·ªÅn, m√† ·ªü s·ª± t·ª± do.',
        'ƒê·ªìng ti·ªÅn ƒëi tr∆∞·ªõc l√† ƒë·ªìng ti·ªÅn kh√¥n.',
        'S·ªëng theo nhu c·∫ßu, ƒë·ª´ng s·ªëng theo mong mu·ªën.',
        'Ti·ªÅn mua ƒë∆∞·ª£c thu·ªëc nh∆∞ng kh√¥ng mua ƒë∆∞·ª£c s·ª©c kh·ªèe.',
        'M·∫•t ti·ªÅn l√† m·∫•t √≠t, m·∫•t l√≤ng tin l√† m·∫•t t·∫•t c·∫£.',
        'ƒê·ª´ng ch·∫øt tr√™n ƒë·ªëng v√†ng m√† t√¢m h·ªìn ngh√®o n√†n.',
        'Ngh√®o kh√¥ng x·∫•u h·ªï, s·ª£ ngh√®o m·ªõi x·∫•u h·ªï.',
        'S·ª± gi√†u c√≥ l√† kh·∫£ nƒÉng tr·∫£i nghi·ªám cu·ªôc s·ªëng tr·ªçn v·∫πn.',
        'Ti·ªÅn b·∫°c mua ƒë∆∞·ª£c ng√¥i nh√† nh∆∞ng kh√¥ng mua ƒë∆∞·ª£c t·ªï ·∫•m.',
        'H√£y l√†m ch·ªß ƒë·ªìng ti·ªÅn, ƒë·ª´ng l√†m n√¥ l·ªá.',
        'Gi√° tr·ªã c·ªßa m·ªôt ng∆∞·ªùi kh√¥ng n·∫±m ·ªü t√†i kho·∫£n ng√¢n h√†ng.',
        'ƒê·ª´ng mua th·ª© ƒë·ªÉ l√†m h√†i l√≤ng ng∆∞·ªùi b·∫°n kh√¥ng th√≠ch.',
        'V√≠ ti·ªÅn ƒëang kh√≥c hay ƒëang c∆∞·ªùi l√† do b·∫°n.',
        'M·ªói ƒë·ªìng ti·ªÅn ti·∫øt ki·ªám l√† m·ªôt l√° phi·∫øu cho t∆∞∆°ng lai.',
        'Ti·∫øt ki·ªám l√† m·ªôt ƒë·ª©c t√≠nh, chi ti√™u l√† m·ªôt th√≥i quen.',
        'ƒê·ª´ng ƒë·ªët ƒëu·ªëc t√¨m ti·ªÅn khi tr√°i tim ƒëang m·ª•c n√°t.',
        'Ti·ªÅn kh√¥ng l√†m thay ƒë·ªïi b·∫£n ch·∫•t, n√≥ ch·ªâ b·ªôc l·ªô b·∫£n ch·∫•t.',
        'T√†i s·∫£n l·ªõn nh·∫•t l√† s·ª©c kh·ªèe.',
        'H·ªçc c√°ch qu·∫£n l√Ω ti·ªÅn tr∆∞·ªõc khi n√≥ qu·∫£n l√Ω b·∫°n.',
        'Ng∆∞·ªùi gi√†u nh·∫•t l√† ng∆∞·ªùi c√≥ ni·ªÅm vui √≠t t·ªën k√©m nh·∫•t.',
        'ƒê·ª´ng s·ªëng ƒë·ªÉ ki·∫øm ti·ªÅn, h√£y ki·∫øm ti·ªÅn ƒë·ªÉ s·ªëng.',
        'Ti·ªÅn ch·ªâ l√† c√¥ng c·ª•. N√≥ s·∫Ω ƒë∆∞a b·∫°n ƒë·∫øn n∆°i b·∫°n mu·ªën.',
        'K·∫ª ngh√®o nh·∫•t l√† k·∫ª kh√¥ng c√≥ g√¨ ngo√†i ti·ªÅn.',
        'ƒê·ª´ng bao gi·ªù ti√™u ti·ªÅn tr∆∞·ªõc khi ki·∫øm ƒë∆∞·ª£c n√≥.',
        'B·∫£n ch·∫•t c·ªßa ti·ªÅn l√† s·ª± l∆∞u th√¥ng.',
        'S·ª± gi√†u c√≥ th·ª±c s·ª± n·∫±m ·ªü ƒë√¥i tay cho ƒëi.',
        'H√£y ti√™u ti·ªÅn v√†o k·ª∑ ni·ªám, ƒë·ª´ng ti√™u v√†o v·∫≠t ch·∫•t.',
        'M·ªôt t√∫i r·ªóng kh√¥ng ngƒÉn ƒë∆∞·ª£c b·∫°n, ch·ªâ ƒë·∫ßu r·ªóng m·ªõi l√†m th·∫ø.',
        'T√∫i ti·ªÅn c√†ng n·∫∑ng, tr√°i tim c√†ng ph·∫£i nh·∫π nh√†ng.',
        'Khi t√∫i r·ªóng, b·∫°n s·∫Ω bi·∫øt ai l√† b·∫°n th·∫≠t s·ª±.',
        'Ti·ªÅn b·∫°c c√≥ c√°nh, h√£y d·∫°y n√≥ bay v·ªÅ ph√≠a b·∫°n.',
        'H√£y l√† ki·∫øn tha l√¢u c≈©ng ƒë·∫ßy t·ªï.',
        'ƒê·ª´ng ƒë·ªÉ s·ª± xa hoa che m·ªù ƒëi m·ª•c ƒë√≠ch s·ªëng.',
        'T√†i ch√≠nh l√†nh m·∫°nh b·∫Øt ƒë·∫ßu t·ª´ t√¢m tr√≠ l√†nh m·∫°nh.',
        'ƒê·ªìng ti·ªÅn ch√¢n ch√≠nh l√† m·ªì h√¥i v√† n∆∞·ªõc m·∫Øt.',
        'ƒê·ª´ng nh√¨n v√†o gi√° c·∫£, h√£y nh√¨n v√†o gi√° tr·ªã l√¢u d√†i.',
        'M·ªôt ng√†y kh√¥ng ti·∫øt ki·ªám l√† m·ªôt ng√†y l√£ng ph√≠.',
        'ƒê·ª´ng so s√°nh v√≠ ti·ªÅn c·ªßa m√¨nh v·ªõi ng∆∞·ªùi kh√°c.',
        'H·∫°nh ph√∫c l√† bi·∫øt m√¨nh c√≥ ƒë·ªß.',
        'Ti·∫øt ki·ªám l√† b√≠ m·∫≠t c·ªßa s·ª± ƒë·ªôc l·∫≠p t√†i ch√≠nh.',
        'ƒê·ª´ng ƒë·ªÉ ti·ªÅn b·∫°c l√† r√†o c·∫£n gi·ªØa b·∫°n v√† nh·ªØng ng∆∞·ªùi th√¢n y√™u.',
        'S·ª± gi√†u c√≥ ƒë√≠ch th·ª±c kh√¥ng th·ªÉ ƒëong ƒë·∫øm b·∫±ng con s·ªë.',
        'H√£y tr√¢n tr·ªçng t·ª´ng ƒë·ªìng l·∫ª b·∫°n c√≥.',
        'ƒê·ªìng ti·ªÅn l√† m·ªôt c√¥ng c·ª•, kh√¥ng ph·∫£i l√† √¥ng ch·ªß.',
        'Qu·∫£n l√Ω ti·ªÅn l√† qu·∫£n l√Ω cu·ªôc ƒë·ªùi.',
        'ƒê·ª´ng d√πng s·ª©c kh·ªèe ƒë·ªÉ ƒë·ªïi l·∫•y ti·ªÅn, r·ªìi l·∫°i d√πng ti·ªÅn mua l·∫°i s·ª©c kh·ªèe.',
        'Th√†nh c√¥ng kh√¥ng ph·∫£i l√† c√≥ bao nhi√™u ti·ªÅn.',
        'H√£y h√†o ph√≥ng v·ªõi n·ª• c∆∞·ªùi, nh∆∞ng ch·∫∑t ch·∫Ω v·ªõi chi ti√™u.',
        'S·ª± gi√†u c√≥ th·ª±c s·ª± l√† nh·ªØng g√¨ c√≤n l·∫°i khi m·∫•t h·∫øt ti·ªÅn.',
        'Ti·ªÅn b·∫°c l√† ph∆∞∆°ng ti·ªán, kh√¥ng ph·∫£i l√† c·ª©u c√°nh.',
        'ƒê·ª´ng l√£ng ph√≠ th·ªùi gian v√†o vi·ªác ch·ªâ ƒë·ªÉ ki·∫øm ti·ªÅn.',
        'H·ªçc c√°ch t·ª´ ch·ªëi nh·ªØng ham mu·ªën nh·∫•t th·ªùi.',
        'Ti·ªÅn b·∫°c l√† nƒÉng l∆∞·ª£ng, h√£y s·ª≠ d·ª•ng n√≥ ƒë√∫ng c√°ch.',
        'ƒê·ª´ng ƒë·∫∑t t·∫•t c·∫£ tr·ª©ng v√†o m·ªôt gi·ªè. - Andrew Carnegie',
        'Ng∆∞·ªùi bi·∫øt qu·∫£n l√Ω ti·ªÅn l·∫ª s·∫Ω qu·∫£n l√Ω ƒë∆∞·ª£c ti·ªÅn l·ªõn.',
        'S·ªëng gi·∫£n d·ªã ƒë·ªÉ ng∆∞·ªùi kh√°c c√≥ th·ªÉ gi·∫£n d·ªã s·ªëng.',
        'S·ª± gi√†u c√≥ nh·∫•t l√† s·ª± t·ª± do kh·ªèi l√≤ng tham.',
        'ƒê·ª´ng ƒë·ªÉ n·ª£ n·∫ßn ƒë√® n·∫∑ng ƒë√¥i vai b·∫°n.',
        'H√£y mua nh·ªØng th·ª© gi√∫p b·∫°n ki·∫øm th√™m ti·ªÅn.',
        'Ti·ªÅn kh√¥ng quan tr·ªçng, nh∆∞ng n√≥ ·∫£nh h∆∞·ªüng ƒë·∫øn m·ªçi th·ª© quan tr·ªçng.',
        'L√≤ng tham l√† c√°i t√∫i kh√¥ng ƒë√°y.',
        'Ti·∫øt ki·ªám l√† con ƒë∆∞·ªùng ng·∫Øn nh·∫•t ƒë·∫øn s·ª± t·ª± do.',
        'H√£y nghƒ© v·ªÅ ti·ªÅn nh∆∞ m·ªôt h·∫°t gi·ªëng.',
        'S·ª± gi√†u c√≥ th·ª±c s·ª± b·∫Øt ƒë·∫ßu t·ª´ b√™n trong.',
        'H√£y bi·∫øt ∆°n nh·ªØng g√¨ b·∫°n ƒëang c√≥.',
        'Ti·ªÅn b·∫°c l√† m·ªôt ph·∫ßn c·ªßa cu·ªôc ch∆°i, ƒë·ª´ng qu√° nghi√™m tr·ªçng.',
        'ƒê·ª´ng ƒë·ªÉ ti·ªÅn l√†m m·ªù m·∫Øt, h√£y ƒë·ªÉ n√≥ soi s√°ng t∆∞∆°ng lai.',
        'Quay tr√∫ng s·ªë nh·ªè l√† th·∫Øng, quay tr√∫ng s·ªë l·ªõn l√† b√†i h·ªçc.',
        'Ti·∫øt ki·ªám h√¥m nay l√† m√≥n qu√† cho ch√≠nh b·∫°n ng√†y mai.',
        'ƒê·ª´ng bao gi·ªù n·∫£n l√≤ng n·∫øu v√≠ ti·ªÅn c√≤n m·ªèng.',
        'H√£y t·∫≠p trung v√†o vi·ªác t·∫°o ra gi√° tr·ªã.',
        'S·ªëng x·ª©ng ƒë√°ng v·ªõi m·ªói ƒë·ªìng ti·ªÅn b·∫°n ti√™u.',
        'Cu·ªëi c√πng, ch√∫ng ta ch·ªâ s·ªü h·ªØu nh·ªØng g√¨ ƒë√£ cho ƒëi.',
      ];
      function setRandomQuote() {
        const el = document.getElementById('quote-area');
        if (!el) return;
        const q = getRandomQuotes();
        el.innerText = q;
      }

      function getRandomQuotes() {
        return QUOTES[Math.floor(Math.random() * QUOTES.length)];
      }

      function showLoading(show) {
        const loader = document.getElementById('loading-overlay');
        if (show) {
          loader.classList.remove('hidden');
          loader.classList.add('flex');
        } else {
          loader.classList.add('hidden');
          loader.classList.remove('flex');
        }
      }

      async function syncToCloud() {
        const payload = {
          simDate: simDate.toISOString(),
          currentPlayer,
          yearlyStats,
          historyData,
          fullSpinLog,
          swapStatus,
          playerNames,
          usedNumbers: Array.from(usedNumbers),
        };
        try {
          localStorage.setItem('github_wheel_data', JSON.stringify(payload));
          await fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            body: JSON.stringify(payload),
          });
        } catch (error) {
          console.error('L·ªói ƒë·ªìng b·ªô:', error);
        }
      }
      function animateNumber(finalNumber, duration) {
        const el = document.getElementById('result-number');
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          el.innerText = Math.floor(progress * finalNumber);
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }

      // C√°ch d√πng: G·ªçi animateNumber(luckyNum, 1000) b√™n trong setTimeout c·ªßa spin()
      async function loadFromCloud() {
        showLoading(true);
        try {
          const response = await fetch(GOOGLE_SCRIPT_URL);
          const data = await response.json();
          if (data) {
            simDate = new Date(data.simDate);
            currentPlayer = data.currentPlayer;
            yearlyStats = data.yearlyStats;
            historyData = data.historyData;
            fullSpinLog = data.fullSpinLog || [];
            if (data.swapStatus) swapStatus = data.swapStatus;
            if (data.playerNames) playerNames = data.playerNames;
            usedNumbers = new Set(fullSpinLog.map((l) => l.score));
            rebuildUI();
            if (typeof updateChart === 'function') updateChart();
            setRandomQuote();
          }
        } catch (error) {
          loadData();
        } finally {
          setTimeout(() => showLoading(false), 500);
        }
      }

      function loadData() {
        try {
          const saved = localStorage.getItem('github_wheel_data');
          if (!saved) return;
          const data = JSON.parse(saved);
          simDate = new Date(data.simDate);
          currentPlayer = data.currentPlayer;
          yearlyStats = data.yearlyStats;
          historyData = data.historyData;
          fullSpinLog = data.fullSpinLog || [];
          if (data.swapStatus) swapStatus = data.swapStatus;
          if (data.playerNames) playerNames = data.playerNames;
          usedNumbers = new Set(fullSpinLog.map((l) => l.score));
          rebuildUI();
          if (typeof updateChart === 'function') updateChart();
          setRandomQuote();
        } catch (e) {}
      }

      function editPlayerName(p) {
        const newName = prompt(
          `Nh·∫≠p t√™n m·ªõi cho ${playerNames[p]}:`,
          playerNames[p]
        );
        if (newName && newName.trim() !== '') {
          playerNames[p] = newName.trim();
          updateUI();
          syncToCloud();
          if (monthlyChart) {
            monthlyChart.data.datasets[0].label = playerNames.p1;
            monthlyChart.data.datasets[1].label = playerNames.p2;
            monthlyChart.update();
          }
        }
      }

      function updateUI() {
        const t = document.getElementById('turn-display');
        const sBtn = document.getElementById('swapBtn');
        const m = simDate.getMonth();

        const pName = currentPlayer === 'p1' ? playerNames.p1 : playerNames.p2;
        const pIcon = currentPlayer === 'p1' ? '‚óè' : '‚ñ≤';

        const randomPrefix =
          UI_TEXTS.turns[Math.floor(Math.random() * UI_TEXTS.turns.length)];

        t.innerHTML = `<span class="text-[9px] block opacity-50 tracking-[0.2em] mb-1">${randomPrefix}</span>
                       <span class="text-2xl">${pName} ${pIcon}</span>`;

        t.className = `font-black uppercase tracking-tighter text-center transition-all duration-500 ${
          currentPlayer === 'p1' ? 'text-indigo-400' : 'text-emerald-400'
        }`;

        // --- TH√äM ƒêO·∫†N N√ÄY ƒê·ªÇ C·∫¨P NH·∫¨T T√äN TRONG C√ÅC TH√ÅNG ---
        document
          .querySelectorAll('.p1-label-text')
          .forEach((el) => (el.innerText = playerNames.p1));
        document
          .querySelectorAll('.p2-label-text')
          .forEach((el) => (el.innerText = playerNames.p2));
        document.getElementById('label-p1').innerText = `${playerNames.p1}`;
        document.getElementById('label-p2').innerText = `${playerNames.p2}`;
        // ---------------------------------------------------

        if (sBtn) {
          const otherPlayer =
            currentPlayer === 'p1' ? playerNames.p2 : playerNames.p1;
          if (swapStatus[m][currentPlayer]) {
            sBtn.innerText = 'Th√°ng n√†y h·∫øt quy·ªÅn ƒë·ªïi r·ªìi';
            sBtn.classList.add('opacity-30', 'pointer-events-none');
          } else {
            sBtn.innerText = `‚áÑ Nh∆∞·ªùng s√¢n cho ${otherPlayer}`;
            sBtn.classList.remove('opacity-30', 'pointer-events-none');
          }
        }

        const sBtnCenter = document.getElementById('spinBtn');
        if (sBtnCenter && !isSpinning) {
          const randomBtnText =
            UI_TEXTS.spinButtons[
              Math.floor(Math.random() * UI_TEXTS.spinButtons.length)
            ];
          sBtnCenter.innerText = randomBtnText;

          // M·∫πo: ƒê·ªïi m√†u ch·ªØ n√∫t quay theo ng∆∞·ªùi ch∆°i ƒë·ªÉ d·ªÖ nh·∫≠n di·ªán
          sBtnCenter.style.color =
            currentPlayer === 'p1' ? '#6366f1' : '#10b981';
        }

        // C·∫≠p nh·∫≠t c√°c c√¢u nh√£n t√™n trong b·∫£ng th√°ng (nh∆∞ ƒë√£ h∆∞·ªõng d·∫´n ·ªü b∆∞·ªõc tr∆∞·ªõc)
        document
          .querySelectorAll('.p1-label-text')
          .forEach((el) => (el.innerText = playerNames.p1));
        document
          .querySelectorAll('.p2-label-text')
          .forEach((el) => (el.innerText = playerNames.p2));
      }
      function swapTurn() {
        const m = simDate.getMonth();
        const originalPlayer = currentPlayer;
        if (swapStatus[m][originalPlayer]) return;

        const oldName = playerNames[originalPlayer];
        swapStatus[m][originalPlayer] = true;
        currentPlayer = originalPlayer === 'p1' ? 'p2' : 'p1';
        const newName = playerNames[currentPlayer];

        // L·∫•y ng·∫´u nhi√™n m·ªôt c√¢u n·ªëi
        const randomSwapAction =
          UI_TEXTS.swaps[Math.floor(Math.random() * UI_TEXTS.swaps.length)];
        const msgEl = document.getElementById('swap-msg');

        if (msgEl) {
          msgEl.innerText = `${oldName} ${randomSwapAction} ${newName}! ‚ú®`;
          setTimeout(() => (msgEl.innerText = ''), 4000);
        }

        updateUI();
        saveData();
        syncToCloud();
      }
      function renderSpinToUI(dayIdx, m, player, score, color, isNew = true) {
        const cell = document.getElementById(`day-${dayIdx}`);
        if (cell) {
          const s = document.createElement('div');
          s.className = `shape ${
            player === 'p1' ? 'shape-circle' : 'shape-triangle'
          }`;
          player === 'p1'
            ? (s.style.backgroundColor = color)
            : (s.style.color = color);
          cell.appendChild(s);
        }
        if (isNew) {
          const hList = document.getElementById('history-list');
          const hItem = document.createElement('div');
          hItem.className = 'history-item';
          hItem.style.borderLeft = `3px solid ${color}`;
          const pLabel =
            player === 'p1' ? `${playerNames.p1} ‚óè` : `${playerNames.p2} ‚ñ≤`;
          const base = new Date(2026, 0, 1);
          const d = new Date(base.getTime() + (dayIdx - 1) * 86400000);
          const mm = d.getMonth() + 1;
          const dd = d.getDate();
          hItem.innerHTML = `<span>${dd}/${mm}</span> <span>${pLabel}</span> <b>+${score}</b>`;
          hList.prepend(hItem);
        }
      }

      function initChart() {
        const ctxChart = document
          .getElementById('monthlyChart')
          .getContext('2d');
        const labels = [
          'T1',
          'T2',
          'T3',
          'T4',
          'T5',
          'T6',
          'T7',
          'T8',
          'T9',
          'T10',
          'T11',
          'T12',
          'NƒÇM',
        ];
        monthlyChart = new Chart(ctxChart, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [
              {
                label: playerNames.p1,
                data: [],
                backgroundColor: '#6366f1',
                borderRadius: 2,
              },
              {
                label: playerNames.p2,
                data: [],
                backgroundColor: '#10b981',
                borderRadius: 2,
              },
              {
                label: 'T·ªïng th√°ng',
                data: [],
                backgroundColor: 'rgba(255, 255, 255, 0.1)',
                borderColor: 'rgba(255, 255, 255, 0.3)',
                borderWidth: 1,
                borderRadius: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { labels: { color: '#94a3b8', font: { size: 9 } } },
            },
            scales: {
              y: {
                grid: { color: 'rgba(255, 255, 255, 0.05)' },
                ticks: { color: '#64748b' },
              },
              x: { grid: { display: false }, ticks: { color: '#64748b' } },
            },
          },
        });
      }

      function updateChart() {
        if (!monthlyChart) return;
        const mA = [...historyData.map((d) => d.p1), yearlyStats.p1];
        const mB = [...historyData.map((d) => d.p2), yearlyStats.p2];
        const mS = [...historyData.map((d) => d.total), yearlyStats.total];
        monthlyChart.data.datasets[0].data = mA;
        monthlyChart.data.datasets[1].data = mB;
        monthlyChart.data.datasets[2].data = mS;
        monthlyChart.data.datasets[0].label = playerNames.p1;
        monthlyChart.data.datasets[1].label = playerNames.p2;
        monthlyChart.update();
      }

      function spin() {
        if (isSpinning) return;

        // 1. ·∫®n s·ªë c≈© v√† chu·∫©n b·ªã tr·∫°ng th√°i
        const display = document.getElementById('lucky-number-display');
        if (display) display.classList.replace('scale-100', 'scale-0');

        isSpinning = true;
        spinBtn.disabled = true;

        const dayIdxNow =
          Math.floor((simDate - new Date(2026, 0, 1)) / 86400000) + 1;
        if (spunDays.has(dayIdxNow)) {
          isSpinning = false;
          spinBtn.disabled = false;
          const quoteArea = document.getElementById('quote-area');
          if (quoteArea) {
            quoteArea.innerText =
              'Ng√†y n√†y ƒë√£ quay r·ªìi. Chuy·ªÉn sang ng√†y m·ªõi ƒë·ªÉ ti·∫øp t·ª•c.';
          }
          return;
        }

        // 2. T√≠nh to√°n con s·ªë may m·∫Øn
        const avail = [];
        for (let i = 1; i <= 365; i++) if (!usedNumbers.has(i)) avail.push(i);
        if (avail.length === 0) {
          isSpinning = false;
          spinBtn.disabled = false;
          return;
        }
        const luckyNum = avail[Math.floor(Math.random() * avail.length)];
        const targetAngle = (360 - (luckyNum - 1) * (360 / 365) + 270) % 360;
        currentRotation += 360 * 4 + targetAngle - (currentRotation % 360);

        // 3. Th·ª±c hi·ªán quay v√≤ng quay
        document.getElementById(
          'wheelCanvas'
        ).style.transform = `rotate(${currentRotation}deg)`;

        setTimeout(() => {
          isSpinning = false;
          spinBtn.disabled = false;
          // Th√™m v√†o trong setTimeout c·ªßa h√†m spin() ƒëo·∫°n c·∫≠p nh·∫≠t m√†u shadow cho display s·ªë
          const resultBox = document.getElementById('lucky-number-display');
          const color = getCustomColor(luckyNum);
          if (resultBox) {
            resultBox.style.boxShadow = `0 0 40px ${color}`; // ƒê·ªï b√≥ng theo m√†u v√πng v·ª´a quay tr√∫ng
            resultBox.style.border = `3px solid ${color}`;
          }
          const m = simDate.getMonth();
          const dayIdx = dayIdxNow;

          // 4. Hi·ªÉn th·ªã con s·ªë may m·∫Øn ngay gi·ªØa v√≤ng quay
          if (display) {
            display.classList.replace('scale-0', 'scale-100');
            animateNumber(luckyNum, 1000); // Hi·ªáu ·ª©ng s·ªë nh·∫£y trong 1 gi√¢y
          }

          // 5. C·∫≠p nh·∫≠t d·ªØ li·ªáu Log v√† Th·ªëng k√™
          historyData[m].total += luckyNum;
          historyData[m][currentPlayer] += luckyNum;
          yearlyStats.total += luckyNum;
          yearlyStats[currentPlayer] += luckyNum;

          // 6. Ghi log tr∆∞·ªõc khi rebuild UI
          fullSpinLog.push({
            dayIdx,
            m,
            player: currentPlayer,
            score: luckyNum,
            color,
          });
          usedNumbers.add(luckyNum);
          spunDays.add(dayIdx);

          // 7. C·∫≠p nh·∫≠t Giao di·ªán
          renderSpinToUI(dayIdx, m, currentPlayer, luckyNum, color, true);
          rebuildUI();
          updateChart();

          let messageList;
          let textColor;
          let animationClass;

          if (luckyNum <= 60) {
            messageList = UI_TEXTS.spinMessages.v1;
            textColor = 'text-emerald-400 font-black animate-bounce';
          } else if (luckyNum <= 120) {
            messageList = UI_TEXTS.spinMessages.v2;
            textColor = 'text-lime-400 font-bold';
          } else if (luckyNum <= 180) {
            messageList = UI_TEXTS.spinMessages.v3;
            textColor = 'text-yellow-400';
          } else if (luckyNum <= 240) {
            messageList = UI_TEXTS.spinMessages.v4;
            textColor = 'text-orange-500 font-bold';
          } else if (luckyNum <= 300) {
            messageList = UI_TEXTS.spinMessages.v5;
            textColor = 'text-red-500 font-bold italic animate-pulse';
          } else {
            messageList = UI_TEXTS.spinMessages.v6;
            textColor =
              'text-red-600 font-black uppercase italic animate-shake drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]';
          }

          const randomMsgTemplate =
            messageList[Math.floor(Math.random() * messageList.length)];
          const finalMsg = randomMsgTemplate.replace('{n}', luckyNum);

          const quoteArea = document.getElementById('quote-area');
          if (quoteArea) {
            quoteArea.className = `text-[10px] mb-4 h-10 flex items-center justify-center text-center transition-all rounded-lg ${animationClass}`;
            quoteArea.innerHTML = `<span class="${textColor}">${finalMsg}</span>`;
          }

          // 8. ƒê·ªïi l∆∞·ª£t v√† ƒë·ªìng b·ªô Cloud
          currentPlayer = currentPlayer === 'p1' ? 'p2' : 'p1';
          syncToCloud();
          updateUI();

          // 9. T·ª± ƒë·ªông ·∫©n s·ªë sau 4 gi√¢y ƒë·ªÉ chu·∫©n b·ªã cho l∆∞·ª£t ti·∫øp theo
          setTimeout(() => {
            if (display) display.classList.replace('scale-100', 'scale-0');
          }, 4000);
        }, 4000); // Kh·ªõp v·ªõi th·ªùi gian transition c·ªßa CSS v√≤ng quay
      }
      function spinBackfill() {
        const input = document.getElementById('backfill-date');
        if (!input || !input.value) return;
        const dayIdx = dayIdxFromDateStr(input.value);
        if (dayIdx < 1 || dayIdx > 365) return;
        if (spunDays.has(dayIdx)) {
          const quoteArea = document.getElementById('quote-area');
          if (quoteArea)
            quoteArea.innerText = 'Ng√†y n√†y ƒë√£ quay r·ªìi, ch·ªçn ng√†y kh√°c.';
          return;
        }
        if (isSpinning) return;
        const display = document.getElementById('lucky-number-display');
        if (display) display.classList.replace('scale-100', 'scale-0');
        isSpinning = true;
        spinBtn.disabled = true;
        const avail = [];
        for (let i = 1; i <= 365; i++) if (!usedNumbers.has(i)) avail.push(i);
        if (avail.length === 0) {
          isSpinning = false;
          spinBtn.disabled = false;
          return;
        }
        const luckyNum = avail[Math.floor(Math.random() * avail.length)];
        const targetAngle = (360 - (luckyNum - 1) * (360 / 365) + 270) % 360;
        currentRotation += 360 * 4 + targetAngle - (currentRotation % 360);
        document.getElementById(
          'wheelCanvas'
        ).style.transform = `rotate(${currentRotation}deg)`;
        setTimeout(() => {
          isSpinning = false;
          spinBtn.disabled = false;
          const resultBox = document.getElementById('lucky-number-display');
          const color = getCustomColor(luckyNum);
          if (resultBox) {
            resultBox.style.boxShadow = `0 0 40px ${color}`;
            resultBox.style.border = `3px solid ${color}`;
          }
          const m = monthFromDayIdx(dayIdx);
          if (display) {
            display.classList.replace('scale-0', 'scale-100');
            animateNumber(luckyNum, 1000);
          }
          historyData[m].total += luckyNum;
          historyData[m][currentPlayer] += luckyNum;
          yearlyStats.total += luckyNum;
          yearlyStats[currentPlayer] += luckyNum;
          fullSpinLog.push({
            dayIdx,
            m,
            player: currentPlayer,
            score: luckyNum,
            color,
          });
          usedNumbers.add(luckyNum);
          spunDays.add(dayIdx);
          renderSpinToUI(dayIdx, m, currentPlayer, luckyNum, color, true);
          rebuildUI();
          updateChart();
          currentPlayer = currentPlayer === 'p1' ? 'p2' : 'p1';
          syncToCloud();
          updateUI();
          setTimeout(() => {
            if (display) display.classList.replace('scale-100', 'scale-0');
          }, 4000);
        }, 4000);
      }
      function createVerticalGraph() {
        const container = document.getElementById('vertical-graph-container');
        const months = [
          'Th√°ng 1',
          'Th√°ng 2',
          'Th√°ng 3',
          'Th√°ng 4',
          'Th√°ng 5',
          'Th√°ng 6',
          'Th√°ng 7',
          'Th√°ng 8',
          'Th√°ng 9',
          'Th√°ng 10',
          'Th√°ng 11',
          'Th√°ng 12',
        ];
        let dayIdx = 1;
        for (let m = 0; m < 12; m++) {
          const block = document.createElement('div');
          block.className = 'month-block is-collapsed';
          block.id = `month-section-${m}`;

          // S·ª≠a d√≤ng d∆∞·ªõi ƒë√¢y ƒë·ªÉ d√πng playerNames.p1 v√† playerNames.p2
          block.innerHTML = `
            <div class="month-header" onclick="toggleSection('month-section-${m}')">
              <div class="flex items-center gap-3">
                <h3 class="month-title text-emerald-500">${months[m]}</h3>
                <div class="stat-summary">
                  <span>Œ£ <b id="sum-m-${m}">0</b></span>
                  <span><span class="p1-label-text">${playerNames.p1}</span>: <b id="ap-m-${m}">0</b></span>
                  <span><span class="p2-label-text">${playerNames.p2}</span>: <b id="bp-m-${m}">0</b></span>
                </div>
              </div>
            </div>
            <div class="collapse-content">
              <div class="month-grid" id="grid-m-${m}"></div>
            </div>`;

          const grid = block.querySelector(`#grid-m-${m}`);
          const firstDay = new Date(2026, m, 1).getDay();
          const totalDays = new Date(2026, m + 1, 0).getDate();
          for (let p = 0; p < firstDay; p++) {
            grid.appendChild(
              Object.assign(document.createElement('div'), {
                className: 'day-cell empty-cell',
              })
            );
          }
          for (let d = 1; d <= totalDays; d++) {
            grid.appendChild(
              Object.assign(document.createElement('div'), {
                className: 'day-cell',
                id: `day-${dayIdx++}`,
              })
            );
          }
          container.appendChild(block);
        }
        updateTodayMarker(true);
      }
      function rebuildUI() {
        spunDays = new Set(fullSpinLog.map((l) => l.dayIdx));
        document.getElementById('total-year-a').innerText =
          yearlyStats.p1.toLocaleString();
        document.getElementById('total-year-b').innerText =
          yearlyStats.p2.toLocaleString();
        document.getElementById('total-year-all').innerText =
          yearlyStats.total.toLocaleString();
        for (let m = 0; m < 12; m++) {
          const d = historyData[m];
          if (document.getElementById(`sum-m-${m}`))
            document.getElementById(`sum-m-${m}`).innerText =
              d.total.toLocaleString();
          if (document.getElementById(`ap-m-${m}`))
            document.getElementById(`ap-m-${m}`).innerText =
              d.p1.toLocaleString();
          if (document.getElementById(`bp-m-${m}`))
            document.getElementById(`bp-m-${m}`).innerText =
              d.p2.toLocaleString();
        }
        document.getElementById('history-list').innerHTML = '';
        fullSpinLog.forEach((log) =>
          renderSpinToUI(
            log.dayIdx,
            log.m,
            log.player,
            log.score,
            log.color,
            true
          )
        );
        updateTodayMarker(true);
        updateUI();
        updateMissedDays();
      }

      function updateTodayMarker(init = false) {
        const currentMonth = simDate.getMonth();
        const dayOfYear =
          Math.floor((simDate - new Date(2026, 0, 1)) / 86400000) + 1;
        for (let i = 0; i < 12; i++) {
          const section = document.getElementById(`month-section-${i}`);
          if (i <= currentMonth) section.classList.add('is-visible');
          else section.classList.remove('is-visible');
        }
        document
          .querySelectorAll('.day-cell')
          .forEach((c) => c.classList.remove('cell-today'));
        const todayCell = document.getElementById(`day-${dayOfYear}`);
        if (todayCell) {
          todayCell.classList.add('cell-today');
          const section = document.getElementById(
            `month-section-${currentMonth}`
          );
          section.classList.add('month-active');
          if (!init) section.classList.remove('is-collapsed');
        }
        document.getElementById('current-date-ui').innerText =
          simDate.toLocaleDateString('vi-VN');
      }

      function getCustomColor(n) {
        const hue = 120 - (n - 1) * (120 / 364);
        return `hsl(${hue}, 80%, 50%)`;
      }
      function toggleTestControls() {
        const c = document.getElementById('test-controls-container');
        c.style.display = c.style.display === 'none' ? 'flex' : 'none';
      }
      function toggleSection(id) {
        document.getElementById(id).classList.toggle('is-collapsed');
      }
      function nextDay() {
        simDate.setDate(simDate.getDate() + 1);
        updateTodayMarker();
        updateUI();
        updateMissedDays();
      }
      function nextMonthTest() {
        simDate = new Date(simDate.getFullYear(), simDate.getMonth() + 1, 1);
        updateTodayMarker(true);
        updateUI();
        updateMissedDays();
      }
      function applyMassAction(t) {
        for (let i = 0; i < 12; i++) {
          const el = document.getElementById(`month-section-${i}`);
          if (!el) continue;
          if (t === 'collapse') el.classList.add('is-collapsed');
          if (t === 'expand') el.classList.remove('is-collapsed');
        }
      }
      function drawWheel() {
        const canvas = document.getElementById('wheelCanvas');
        const ctxW = canvas.getContext('2d');
        const centerX = 150;
        const centerY = 150;
        const radius = 148;
        const step = (Math.PI * 2) / 365;

        for (let i = 0; i < 365; i++) {
          ctxW.beginPath();
          ctxW.moveTo(centerX, centerY);
          ctxW.arc(centerX, centerY, radius, i * step, (i + 1) * step);
          ctxW.fillStyle = getCustomColor(i + 1);
          ctxW.fill();

          // C·ª© m·ªói m·ªëc 60 ho·∫∑c 61 s·ªë (ƒë·ªÉ chia ƒë·ªÅu 6 v√πng), v·∫Ω m·ªôt ƒë∆∞·ªùng ranh gi·ªõi r√µ r√†ng
          if (i % 61 === 0 && i !== 0) {
            ctxW.beginPath();
            ctxW.moveTo(centerX, centerY);
            ctxW.lineTo(
              centerX + Math.cos(i * step) * radius,
              centerY + Math.sin(i * step) * radius
            );
            ctxW.strokeStyle = 'rgba(255, 255, 255, 0.3)'; // ƒê∆∞·ªùng k·∫ª tr·∫Øng m·ªù ph√¢n v√πng
            ctxW.lineWidth = 2;
            ctxW.stroke();
          }
        }

        // V·∫Ω t√¢m v√≤ng quay (che b·ªõt ƒëi·ªÉm t·ª• c·ªßa c√°c nan qu·∫°t)
        ctxW.beginPath();
        ctxW.arc(centerX, centerY, 35, 0, Math.PI * 2);
        ctxW.fillStyle = '#0f172a'; // Ti·ªáp m√†u n·ªÅn
        ctxW.fill();
        ctxW.strokeStyle = 'rgba(255,255,255,0.1)';
        ctxW.stroke();
      }

      function getCustomColor(n) {
        // X√°c ƒë·ªãnh 6 m·∫£ng m√†u m·ªëc (H - Hue, S - Saturation, L - Lightness)
        // Xanh l√° -> Xanh chu·ªëi -> V√†ng -> Cam -> ƒê·ªè -> ƒê·ªè ƒë√¥
        const zones = [
          { start: 140, end: 160 }, // V√πng 1: Xanh l√° ƒë·∫≠m (1-60)
          { start: 80, end: 100 }, // V√πng 2: Xanh chu·ªëi (61-120)
          { start: 45, end: 55 }, // V√πng 3: V√†ng (121-180)
          { start: 25, end: 35 }, // V√πng 4: Cam (181-240)
          { start: 10, end: 20 }, // V√πng 5: ƒê·ªè (241-300)
          { start: 0, end: 5 }, // V√πng 6: ƒê·ªè ƒë√¥ (301-365)
        ];

        const zoneIdx = Math.min(Math.floor((n - 1) / 60.8), 5); // Chia 365 cho 6 v√πng
        const zone = zones[zoneIdx];

        // T√≠nh to√°n v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi c·ªßa n trong v√πng (0 ƒë·∫øn 1)
        const progressInZone = ((n - 1) % 61) / 61;

        // T·∫°o s·ª± chuy·ªÉn s·∫Øc nh·∫π trong Hue
        const h = zone.start + (zone.end - zone.start) * progressInZone;

        // Tr·∫£ v·ªÅ m√†u d·∫°ng HSL
        return `hsl(${h}, 85%, 50%)`;
      }

      // Kh·ªüi t·∫°o
      spinBtn.addEventListener('click', spin);
      createVerticalGraph();
      drawWheel();
      initChart();
      setRandomQuote();
      loadFromCloud();
    </script>
  </body>
</html>
